const recipes = [
  {
    "name": "Baklava Cheesecake",
    "image": "/images/photo_2024-04-23_15-43-48.jpg",
    "ingredients": {
      "Produce": ["2 tsp Lemon, freshly squeezed"],
      "Refrigerated": ["2 Eggs, large"],
      "Condiments": ["1/4 cup Honey", "3 drops Lemon juice, fresh"],
      "Baking & Spices": ["1 tsp Cinnamon, ground", "1 cup Granulated sugar", "20 Phyllo sheets (227g)", "1/2 tsp Sea salt, fine", "1/4 cup Sugar, brown or granulated", "1/2 cup Sugar", "2 tsp Vanilla extract, pure"],
      "Nuts & Seeds": ["1 cup Pecans", "1 cup Pistachios"],
      "Dairy": ["452 g Cream cheese", "226 g Ghee or melted butter"],
      "Liquids": ["1/4 cup Water"],
      "Other": ["½ cup sour cream or labneh (120g)"]
    },
    "instructions": "Instructions for making Baklava Cheesecake..."
  },
  {
    "name": "Cheesy Stuffed Meatloaf",
    "image": "/images/cook6.jpg",
    "ingredients": {
      "Meat": ["1 1/2 lbs 93% lean ground beef, lean"],
      "Produce": ["1 Carrot, medium", "2 medium stalks Celery", "3 cloves Garlic", "1/2 medium bunch Parsley, fresh", "1 Yellow onion, small"],
      "Refrigerated": ["1 Egg, large"],
      "Condiments": ["1/3 cup Ketchup", "1 tbsp Mustard, prepared yellow", "1 1/2 tsp Worcestershire sauce"],
      "Baking & Spices": ["1/2 tsp Black pepper, freshly ground", "3 tbsp Brown sugar, packed light or dark", "1 tsp Italian seasoning, dried", "2 1/4 tsp Kosher salt", "1/4 tsp Red pepper flakes"],
      "Bread & Baked Goods": ["1 cup Breadcrumbs, dry plain"],
      "Dairy": ["8 oz Mozzarella or white sharp cheddar cheese, fresh", "1/4 cup Whole or 2% milk"]
    },
    "instructions": "Instructions for making Cheesy Stuffed Meatloaf..."
  },
  {
    "name": "Cheesecake",
    "image": "/images/photo_2024-04-23_15-37-22.jpg",
    "ingredients": {
      "Refrigerated": ["1 Egg yolk, large", "3 Eggs, large"],
      "Condiments": ["2 tsp Lemon juice, freshly squeezed"],
      "Baking & Spices": ["1 tbsp Cornstarch", "1 cup Granulated sugar", "1/8 tsp Salt", "1 tsp Vanilla extract"],
      "Snacks": ["12 Graham cracker rectangles (6 ounces), whole"],
      "Dairy": ["1 Butter", "5 tbsp Butter, unsalted", "2 lbs Cream cheese, full-fat", "1/2 cup Sour cream"]
    },
    "instructions": "Instructions for making How To Make Perfect Cheesecake..."
  },
  {
    "name": "Danish Pastry ",
    "image": "/images/photo_2024-04-23_15-46-17.jpg",
    "ingredients": {
      "Produce": ["40 g Currants", "150 g Raisins"],
      "Refrigerated": ["1 Egg, large", "1 Egg"],
      "Baking & Spices": ["40 g Caster (superfine) sugar", "1 1/2 tsp Fast action yeast", "25 g Muscovado sugar, light", "1/2 tsp Spice, mixed", "350 g White bread flour, strong"],
      "Dairy": ["250 g Butter", "125 ml Milk"],
      "Liquids": ["250 ml Water"]
    },
    "instructions": "Instructions for making Danish Pastry – Raisin Whirls..."
  },
 
 
  {
    "name": "Chicken Shawarma Bowl",
    "image": "/images/photo_2024-04-23_15-56-16.jpg",
    "ingredients": {
      "Meat": ["2 lbs Chicken breast"],
      "Produce": ["1 Arabic pickled cucumbers", "1 tbsp Garlic powder", "1 Lemon, juice", "1 Lettuce", "1 tsp Mint, Dried", "1 Red onions", "1 Tomatoes"],
      "Canned Goods": ["2 cups Vegetable broth"],
      "Condiments": ["1 Hummus"],
      "Pasta & Grains": ["1 cup Jasmine rice"],
      "Baking & Spices": ["1/2 tsp Black pepper", "1 tsp Chili powder", "1 tsp Cinnamon", "2 tsp Paprika, Smoked", "2 1/2 tsp Salt", "1 Sprinkle Salt", "1 tbsp Seven spice", "2 tsp Turmeric"],
      "Oils & Vinegars": ["1/4 cup Olive oil"],
      "Nuts & Seeds": ["2 tsp Cumin"],
      "Deli": ["1 Salads- arabic salad"],
      "Liquids": ["1 Water"]
    },
    "instructions": "Instructions for making Chicken Shawarma Bowl..."
  },
  {
    "name": "Bavarian Cream Donuts",
    "image": "/images/photo_2024-04-23_15-59-10.jpg",
    "ingredients": {
      "Refrigerated": ["1 Egg, large", "1 Egg yolk, large"],
      "Baking & Spices": ["3 tbsp Active dry yeast", "1/2 tsp Baking powder", "1/2 tsp Baking soda", "3 1/4 cups Bread flour", "57 tbsp Granulated sugar", "2 1/2 tsp Kosher salt", "2 tbsp Powdered sugar", "1/4 cup Shortening", "1 1/2 tsp Vanilla extract"],
      "Oils & Vinegars": ["12 cups Canola oil"],
      "Dairy": ["3/4 cup Heavy cream", "1 batch Pastry cream", "1 cup Whole milk"]
    },
    "instructions": "Instructions for making Bavarian Cream Donuts..."
  },
  {
    "name": "Basbousa",
    "image": "/images/cook7.jpg",
    "ingredients": {
      "Condiments": ["1 squeeze Lemon juice", "2 tbsp Tahini"],
      "Baking & Spices": ["1 tsp Baking powder", "1 tsp Baking soda", "3 cups Semolina, coarse", "3 cups Sugar"],
      "Nuts & Seeds": ["15 Almonds, whole", "1/2 cup Coconut, unsweetened"],
      "Dairy": ["1 cup Butter", "1/2 cup Cream, thick", "1 cup Greek yogurt, full fat", "1 cup Milk"],
      "Liquids": ["1 cup Water", "1 tbsp Water or rose water, orange blossom"]
    },
    "instructions": "Instructions for making Moist Namoura (Basbousa)..."
  },
 
  {
    "name": "Esh el Bolbol",
    "image": "/images/cook5.jpg",
    "ingredients": {
      "Meat": ["1 kg Ground lamb"],
      "Refrigerated": ["3 Eggs"],
      "Condiments": ["100 g Pomegranate molasses"],
      "Baking & Spices": ["1 tbsp Allspice, ground", "1 1/2 kg Flour", "4 tsp Salt"],
      "Oils & Vinegars": ["1 Oil"],
      "Nuts & Seeds": ["50 g Pine nuts"],
      "Dairy": ["90 g Butter", "600 g Clarified butter"]
    },
    "instructions": "Instructions for making Nightingale’s Nest (Esh el Bolbol)..."
  },
  {
    "name": "Lebanese Kibbeh Balls",
    "image": "/images/cook10.jpg",
    "ingredients": {
      "Meat": ["2 lb Ground beef, lean"],
      "Produce": ["1/2 cup Basil, fresh dried", "1 Onion", "1 Onion, large"],
      "Condiments": ["1 tsp Pomegranate molasses"],
      "Pasta & Grains": ["1 1/2 cups Fine #1 bulgur wheat"],
      "Baking & Spices": ["1 tsp 7 spice", "1 tsp All spice", "1 tsp Black pepper", "2 tsp Cinnamon", "2 tsp Salt"],
      "Oils & Vinegars": ["2 tbsp Olive oil", "1 Vegetable or canola oil"],
      "Nuts & Seeds": ["1/4 cup Pine nuts, toasted", "1/4 cup Walnuts"],
      "Liquids": ["1/2 cup Water"]
    },
    "instructions": "Instructions for making Lebanese Kibbeh Balls..."
  },
  {
    "name": "Pizza",
    "image": "/images/cook9.jpg",
    "ingredients": {
      "Other": ["Preparation for pizza recipe"]
    },
    "instructions": 
              "1- Bring yeast, flour and sugar (or maple syrup) to room temperature. I generally keep all of these out of the fridge an hour before making the dough. 2- Firstly pour half cup luke warm water to a large mixing bowl.3- Add 1 teaspoon yeast (3 grams) to the warm water.4- Add 1 teaspoon raw sugar or maple syrup. Avoid using refined white sugar.5. Stir it gently. Allow this to rest for 10 to 12 minutes. The mixture must turn frothy and bubbly.7. When the yeast turns frothy, add 2½ cups flour (300 grams), ⅓ teaspoon salt and 1½ tablespoon olive oil to the mixing bowl.. Knead the dough for 5 mins. Make pizza sauce9. To begin with puree 400 to 500 grams of tomatoes in a blender. Heat 1 ½ tablespoons oil in a pan and add 2 finely chopped garlic cloves (about a tablespoon). Fry the garlic a bit until a nice aroma comes out for a minute. Then add 1 teaspoon red chilli flakes."
            
          
  },
  {
    "name": "Potato balls",
    "image": "/images/cook8.jpg",
    "ingredients": {
      "Refrigerated": ["1 Egg yolk, large", "3 Eggs, large"],
      "Condiments": ["2 tsp Lemon juice, freshly squeezed"],
      "Baking & Spices": ["1 tbsp Cornstarch", "1 cup Granulated sugar", "1/8 tsp Salt", "1 tsp Vanilla extract"],
      "Snacks": ["12 Graham cracker rectangles (6 ounces), whole"],
      "Dairy": ["1 Butter", "5 tbsp Butter, unsalted", "2 lbs Cream cheese, full-fat", "1/2 cup Sour cream"]
    },
    "instructions": 
      " Peel the potatoes and cut them in half. Then, put it into a pot and cover with water, and bring to a boil over high heat. Simmer for 20 minutes, until cooked through.After the potatoes are cooked, take them out of the water and pass it through a tammy sieve until super fine. (You can also just mash it with a fork, but this will give the balls a much rougher texture. When done, mix the salt, all-purpose flour, and potato starch in together with the mash, and knead into a smooth dough.3. Divide the potato dough into 8g balls. You should get 35-40 balls this way.4. Pour oil into a deep pan or pot until at least 2 inches deep. Then heat it up to 180°C (350°F). Then, deep-fry the potato balls in the oil in 2-3 batches until golden brown. Make sure to stir and agitate the balls in the first 1 minute of cooking to make sure they don’t stick together. (The balls should take 5-6 minutes to cook.)5. When done, remove the potato balls from the oil, and season with a pinch of salt. Serve hot!"
    
  },
 ,
  {
    "name": " Bechamel pasta",
    "image": "/images/photo_2024-04-23_15-52-35.jpg",
    "ingredients": {
      "Refrigerated": ["500 g Meat,"],
      "Condiments": ["2 Garlic cloves","1 Onion","1/2 cup Tomato sauce"],
      "Canned Goods": ["1 tbsp Tomato paste"],
      "Pasta & Grains": ["500 g Penne pasta"],
      "Baking & Spices":["1/2 tsp Cinnamon"," 5 tbsp Flour","2 Salt and pepper"],
     "Dairy":["7 tbsp Butter", "unsalted","1/2 cup Heavy cream","1 1/2 Litres hot milk"],

    },
    "instructions": "Instructions for making How To Make Perfect  bechamel pasta..."
  },
  
];
// Function to filter recipes by name
function filterRecipesByName(query) {
  return recipes.filter(recipe =>
    recipe.name.toLowerCase().includes(query.toLowerCase())
  );
}

// Function to generate recipe cards
function generateRecipeCards(recipes) {
  const container = document.getElementById('recipe-container');
  container.innerHTML = ''; // Clear previous cards

  // Loop through each recipe
  recipes.forEach((recipe, index) => {
    // Create recipe card elements
    const card = document.createElement('div');
    card.classList.add('recipe-card');
    const img = document.createElement('img');
    img.src = recipe.image;
    img.alt = recipe.name;
    const h2 = document.createElement('h2');
    h2.textContent = recipe.name;
    const p = document.createElement('p');
    p.textContent = recipe.instructions.split('.')[0]; // Display first part of instructions

    // Create "View Recipe" link with recipe ID in URL
    const link = document.createElement('a');
    link.href = `recipe.html?id=${index}`; // Pass recipe index as ID
    link.textContent = 'View Recipe';

    // Append elements to recipe card
    card.appendChild(img);
    card.appendChild(h2);
    card.appendChild(p);
    card.appendChild(link);

    // Append recipe card to container
    container.appendChild(card);
  });
}

// Function to get URL parameters
function getUrlParameter(name) {
  name = name.replace(/[[]/, '\\[').replace(/[\]]/, '\\]');
  var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
  var results = regex.exec(location.search);
  return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
}

// Function to display recipe details based on ID
function displayRecipeDetails() {
  const recipeId = getUrlParameter('id');
  const recipe = recipes[recipeId];

  if (recipe) {
    // Display recipe details
    document.getElementById('recipe-name').textContent = recipe.name;
    document.getElementById('recipe-image').src = recipe.image;

    const ingredientsList = document.getElementById('recipe-ingredients');
    ingredientsList.innerHTML = '';
    Object.entries(recipe.ingredients).forEach(([category, ingredients]) => {
      const categoryItem = document.createElement('li');
      categoryItem.innerHTML = `<strong>${category}:</strong>`;
      const ingredientsListItems = ingredients.map(ingredient => `<li>${ingredient}</li>`).join('');
      categoryItem.innerHTML += `<ul>${ingredientsListItems}</ul>`;
      ingredientsList.appendChild(categoryItem);
    });

    document.getElementById('recipe-instructions').textContent = recipe.instructions;
  } else {
    console.error('Recipe not found');
  }
}

// Function to handle search input
function handleSearchInput() {
  const searchInput = document.getElementById('searchInput');
  const query = searchInput.value.trim();
  const filteredRecipes = filterRecipesByName(query);
  generateRecipeCards(filteredRecipes);
}

// Event listener for search input
document.getElementById('searchInput').addEventListener('input', handleSearchInput);

// Initial call to generate recipe cards with all recipes
generateRecipeCards(recipes);
